---
title: "MySQL 5.5.6-rc リリース"
tag: "MyNA News"
date: 2010-09-20 11:10:43 +0900
---

  MySQL 5.5.6-rc がリリースされました。MySQL 5.5 シリーズとしてのはじめての RC 版です。<br>
  <br>
<br>
ダウンロードはこちらから：<br>
  http://dev.mysql.com/downloads/mysql/#downloads<br>
<br>
----<br>
  以下チェンジログ(5.5.6-rc)<br>
<br>
<br>
<br>
<br>
<br>
■機能の追加と変更：<br>
  * Incompatible Change: The SHA2() function now returns a<br>
    character string with the connection character set and<br>
    collation. Previously, it returned a binary string. This<br>
    is the same change made for several other encryption<br>
    functions in MySQL 5.5.3.<br>
    (Bug#54661: http://bugs.mysql.com/bug.php?id=54661)<br>
<br>
  * Overhead for the Performance Schema interface was<br>
    reduced.<br>
    (Bug#55087: http://bugs.mysql.com/bug.php?id=55087)<br>
<br>
■バグ修正：<br>
<br>
  * Security Fix: After changing the values of the<br>
    innodb_file_format or innodb_file_per_table configuration<br>
    parameters, DDL statements could cause a server crash.<br>
    (Bug#55039: http://bugs.mysql.com/bug.php?id=55039)<br>
<br>
  * Security Fix: Joins involving a table with a unique SET<br>
    column could cause a server crash.<br>
    (Bug#54575: http://bugs.mysql.com/bug.php?id=54575)<br>
<br>
  * Security Fix: Incorrect handling of NULL arguments could<br>
    lead to a crash for IN() or CASE operations when NULL<br>
    arguments were either passed explicitly as arguments (for<br>
    IN()) or implicitly generated by the WITH ROLLUP modifier<br>
    (for IN() and CASE).<br>
    (Bug#54477: http://bugs.mysql.com/bug.php?id=54477)<br>
<br>
  * Security Fix: A malformed argument to the BINLOG<br>
    statement could result in Valgrind warnings or a server<br>
    crash.<br>
    (Bug#54393: http://bugs.mysql.com/bug.php?id=54393)<br>
<br>
  * Security Fix: Use of TEMPORARY InnoDB tables with<br>
    nullable columns could cause a server crash.<br>
    (Bug#54044: http://bugs.mysql.com/bug.php?id=54044)<br>
<br>
  * Security Fix: Using EXPLAIN with queries of the form<br>
    SELECT ... UNION ... ORDER BY (SELECT ... WHERE ...)<br>
    could cause a server crash.<br>
    (Bug#52711: http://bugs.mysql.com/bug.php?id=52711)<br>
<br>
  * Incompatible Change: Replication: As of MySQL 5.5.6, handling<br>
    of CREATE TABLE IF NOT EXISTS ... SELECT statements has been<br>
    changed for the case that the destination table already<br>
    exists:<br>
<br>
       + Previously, for CREATE TABLE IF NOT EXISTS ... SELECT,<br>
         MySQL produced a warning that the table exists, but<br>
         inserted the rows and wrote the statement to the binary<br>
         log anyway. By contrast, CREATE TABLE ... SELECT (without<br>
         IF NOT EXISTS) failed with an error, but MySQL inserted<br>
         no rows and did not write the statement to the binary<br>
         log.<br>
<br>
       + MySQL now handles both statements the same way when the<br>
         destination table exists, in that neither statement<br>
         inserts rows or is written to the binary log. The<br>
         difference between them is that MySQL produces a warning<br>
         when IF NOT EXISTS is present and an error when it is<br>
         not.<br>
<br>
    This change in handling of IF NOT EXISTS results in an<br>
    incompatibility for statement-based replication from a MySQL<br>
    5.1 master with the original behavior and a MySQL 5.5 slave<br>
    with the new behavior. Suppose that CREATE TABLE IF NOT EXISTS<br>
    ... SELECT is executed on the master and the destination table<br>
    exists. The result is that rows are inserted on the master but<br>
    not on the slave. (Row-based replication does not have this<br>
    problem.)<br>
    To address this issue, statement-based binary logging for<br>
    CREATE TABLE IF NOT EXISTS ... SELECT is changed in MySQL 5.1<br>
    as of 5.1.51:<br>
<br>
       + If the destination table does not exist, there is no<br>
         change: The statement is logged as is.<br>
<br>
       + If the destination table does exist, the statement is<br>
         logged as the equivalent pair of CREATE TABLE IF NOT<br>
         EXISTS and INSERT ... SELECT statements. (If the SELECT<br>
         in the original statement is preceded by IGNORE or<br>
         REPLACE, the INSERT becomes INSERT IGNORE or REPLACE,<br>
         respectively.)<br>
<br>
    This change provides forward compatibility for statement-based<br>
    replication from MySQL 5.1 to 5.5 because when the destination<br>
    table exists, the rows will be inserted on both the master and<br>
    slave. To take advantage of this compatibility measure, the<br>
    5.1 server must be at least 5.1.51 and the 5.5 server must be<br>
    at least 5.5.6.<br>
    To upgrade an existing 5.1-to-5.5 replication scenario,<br>
    upgrade the master first to 5.1.51 or higher. Note that this<br>
    differs from the usual replication upgrade advice of upgrading<br>
    the slave first.<br>
    A workaround for applications that wish to achieve the<br>
    original effect (rows inserted regardless of whether the<br>
    destination table exists) is to use CREATE TABLE IF NOT EXISTS<br>
    and INSERT ... SELECT statements rather than CREATE TABLE IF<br>
    NOT EXISTS ... SELECT statements.<br>
    Along with the change just described, the following related<br>
    change was made: Previously, if an existing view was named as<br>
    the destination table for CREATE TABLE IF NOT EXISTS ...<br>
    SELECT, rows were inserted into the underlying base table and<br>
    the statement was written to the binary log. As of MySQL<br>
    5.1.51 and 5.5.6, nothing is inserted or logged.<br>
    (Bug#47442: http://bugs.mysql.com/bug.php?id=47442,<br>
    Bug#47132: http://bugs.mysql.com/bug.php?id=47132,<br>
    Bug#48814: http://bugs.mysql.com/bug.php?id=48814,<br>
    Bug#49494: http://bugs.mysql.com/bug.php?id=49494)<br>
<br>
  * Incompatible Change: Several changes were made to Performance<br>
    Schema tables:<br>
<br>
       + The SETUP_OBJECTS table was removed.<br>
<br>
       + The PROCESSLIST table was renamed to THREADS.<br>
<br>
       + The EVENTS_WAITS_SUMMARY_BY_EVENT_NAME table was renamed<br>
         to EVENTS_WAITS_SUMMARY_GLOBAL_BY_EVENT_NAME.<br>
<br>
    (Bug#55416: http://bugs.mysql.com/bug.php?id=55416)<br>
<br>
  * Incompatible Change: Handling of warnings and errors<br>
    during stored program execution was problematic:<br>
<br>
       + If one statement generated several warnings or<br>
         errors, only the handler for the first was<br>
         activated, even if another might be more<br>
         appropriate.<br>
<br>
       + Warning or error information could be lost.<br>
<br>
    (Bug#36185: http://bugs.mysql.com/bug.php?id=36185,<br>
    Bug#5889: http://bugs.mysql.com/bug.php?id=5889,<br>
    Bug#9857: http://bugs.mysql.com/bug.php?id=9857,<br>
    Bug#23032: http://bugs.mysql.com/bug.php?id=23032)<br>
<br>
  * Important Change: Replication: The LOAD DATA INFILE<br>
    statement is now considered unsafe for statement-based<br>
    replication. When using statement-based logging mode, the<br>
    statement now produces a warning; when using mixed-format<br>
    logging, the statement is made using the row-based<br>
    format.<br>
    (Bug#34283: http://bugs.mysql.com/bug.php?id=34283)<br>
<br>
  * Partitioning: With innodb_thread_concurrency = 1, ALTER TABLE<br>
    ... REORGANIZE PARTITION and SELECT could deadlock. There were<br>
    unreleased latches in the ALTER TABLE ... REORGANIZE PARTITION<br>
    thread which were needed by the SELECT thread to be able to<br>
    continue. (Bug#54747: http://bugs.mysql.com/bug.php?id=54747)<br>
<br>
  * Partitioning: An ALTER TABLE ... ADD PARTITION statement<br>
    run concurrently with a read lock caused spurious<br>
    ER_TABLE_EXISTS and ER_NO_SUCH_TABLE errors on subsequent<br>
    attempts.<br>
    (Bug#53676: http://bugs.mysql.com/bug.php?id=53676)<br>
    See also<br>
    Bug#53770: http://bugs.mysql.com/bug.php?id=53770.<br>
<br>
  * Partitioning: UPDATE and INSERT statements affecting<br>
    partitioned tables performed poorly when using row-based<br>
    replication.<br>
    (Bug#52517: http://bugs.mysql.com/bug.php?id=52517)<br>
<br>
  * Partitioning: INSERT ON DUPLICATE KEY UPDATE statements<br>
    performed poorly on tables having many partitions. This<br>
    was because the handler function for reading a row from a<br>
    specific index was not optimized in the partitioning<br>
    handler.<br>
    (Bug#52455: http://bugs.mysql.com/bug.php?id=52455)<br>
<br>
  * Partitioning: ALTER TABLE ... TRUNCATE PARTITION, when<br>
    called concurrently with transactional DML on the table,<br>
    was executed immediately and did not wait for the<br>
    concurrent transaction to release locks. As a result, the<br>
    ALTER TABLE statement was written into the binary log<br>
    before the DML statement, which led to replication<br>
    failures when using row-based logging.<br>
    (Bug#49907: http://bugs.mysql.com/bug.php?id=49907)<br>
    See also<br>
    Bug#42643: http://bugs.mysql.com/bug.php?id=42643.<br>
<br>
  * Partitioning: When the storage engine used to create a<br>
    partitioned table was disabled, attempting to drop the<br>
    table caused the server to crash.<br>
    (Bug#46086: http://bugs.mysql.com/bug.php?id=46086)<br>
<br>
  * Replication: When using the row-based logging format, a<br>
    failed CREATE TABLE ... SELECT statement was written to<br>
    the binary log, causing replication to break if the<br>
    failed statement was later re-run on the master. In such<br>
    cases, a DROP TABLE ... IF EXIST statement is now logged<br>
    in the event that a CREATE TABLE ... SELECT fails.<br>
    (Bug#55625: http://bugs.mysql.com/bug.php?id=55625)<br>
<br>
  * Replication: When using the row-based logging format, a<br>
    SET PASSWORD statement was written to the binary log<br>
    twice.<br>
    (Bug#55452: http://bugs.mysql.com/bug.php?id=55452)<br>
<br>
  * Replication: When closing temporary tables, after the<br>
    session connection was already closed, if the writing of<br>
    the implicit DROP TABLE statement into the binary log<br>
    failed, it was possible for the resulting error to be<br>
    mishandled, triggering an assertion.<br>
    (Bug#55387: http://bugs.mysql.com/bug.php?id=55387)<br>
<br>
  * Replication: Executing SHOW BINLOG EVENTS increased the<br>
    value of max_allowed_packet applying to the session that<br>
    executed the statement.<br>
    (Bug#55322: http://bugs.mysql.com/bug.php?id=55322)<br>
<br>
  * Replication: Setting binlog_format = ROW then creating<br>
    and then dropping a temporary table led an assertion.<br>
    (Bug#54925: http://bugs.mysql.com/bug.php?id=54925)<br>
<br>
  * Replication: When using mixed-format replication, changes<br>
    made to a non-transactional temporary table within a<br>
    transaction were not written into the binary log when the<br>
    transaction was rolled back. This could lead to a failure<br>
    in replication if the temporary table was used again<br>
    afterwards.<br>
    (Bug#54872: http://bugs.mysql.com/bug.php?id=54872)<br>
    See also<br>
    Bug#53259: http://bugs.mysql.com/bug.php?id=53259.<br>
<br>
  * Replication: If binlog_format was explicitly switched<br>
    from STATEMENT to ROW following the creation of a<br>
    temporary table, then on disconnection the master failed<br>
    to write the expected DROP TEMPORARY TABLE statement into<br>
    the binary log. As a consequence, temporary tables (and<br>
    their corresponding files) accumulated as this scenario<br>
    was repeated.<br>
    (Bug#54842: http://bugs.mysql.com/bug.php?id=54842)<br>
    See also<br>
    Bug#52616: http://bugs.mysql.com/bug.php?id=52616.<br>
<br>
  * Replication: If the SQL thread was started while the I/O<br>
    thread was performing rotation of the relay log, the 2<br>
    threads could begin to race for the same I/O cache,<br>
    leading to a crash of the server.<br>
    (Bug#54509: http://bugs.mysql.com/bug.php?id=54509)<br>
    See also<br>
    Bug#50364: http://bugs.mysql.com/bug.php?id=50364.<br>
<br>
  * Replication: Two related issues involving temporary<br>
    tables and transactions were introduced by a fix made in<br>
    MySQL 5.1.37:<br>
<br>
      1. When a temporary table was created or dropped within<br>
         a transaction, any failed statement that following<br>
         the CREATE TEMPORARY TABLE or DROP TEMPORARY TABLE<br>
         statement triggered a rollback, which caused the<br>
         slave diverge from the master.<br>
<br>
      2. When a CREATE TEMPORARY TABLE ... SELECT * FROM ...<br>
         statement was executed within a transaction in which<br>
         only tables using transactional storage engines were<br>
         used and the transaction was rolled back at the end,<br>
         the changes---including the creation of the<br>
         temporary table---were not written to the binary<br>
         log.<br>
<br>
    The current fix restores the correct behavior in both of<br>
    these cases.<br>
    (Bug#53560: http://bugs.mysql.com/bug.php?id=53560)<br>
    This regression was introduced by<br>
    Bug#43929: http://bugs.mysql.com/bug.php?id=43929.<br>
<br>
  * Replication: The value of<br>
    binlog_direct_non_transactional_updates had no effect on<br>
    statements mixing transactional tables and<br>
    nontransactional tables, or mixing temporary tables and<br>
    nontransactional tables.<br>
    As part of the fix for this issue, updates to temporary<br>
    tables are now handled as transactional or<br>
    nontransactional according to their storage engine types.<br>
    (In effect, the current fix reverts a change made<br>
    previously as part of the fix for<br>
    Bug#53259: http://bugs.mysql.com/bug.php?id=53259.)<br>
    In addition, unsafe mixed statements (that is, statements<br>
    which access transactional table as well nontransactional<br>
    or temporary tables, and write to any of them) are now<br>
    handled as transactional when the statement-based logging<br>
    format is in use.<br>
    (Bug#53452: http://bugs.mysql.com/bug.php?id=53452)<br>
    See also<br>
    Bug#51894: http://bugs.mysql.com/bug.php?id=51894.<br>
<br>
  * Replication: When binlog_format=STATEMENT, any statement<br>
    that is flagged as being unsafe, possibly causing the<br>
    slave to go out of sync, generates a warning. This<br>
    warning is written to the server log, the warning count<br>
    is returned to the client in the server's response, and<br>
    the warnings are accessible through SHOW WARNINGS.<br>
    The current bug affects only the counts for warnings to<br>
    the client and that are visible through SHOW WARNINGS; it<br>
    does not affect which warnings are written to the log.<br>
    The current issue came about because the fix for an<br>
    earlier issue caused warnings for substatements to be<br>
    cleared whenever a new substatement was started. However,<br>
    this suppressed warnings for unsafe statements in some<br>
    cases. Now, such warnings are no longer cleared.<br>
    (Bug#50312: http://bugs.mysql.com/bug.php?id=50312)<br>
    This regression was introduced by<br>
    Bug#36649: http://bugs.mysql.com/bug.php?id=36649.<br>
<br>
  * Replication: Replication could break if a transaction<br>
    involving both transactional and nontransactional tables<br>
    was rolled back to a savepoint. It broke if a concurrent<br>
    connection tried to drop a transactional table which was<br>
    locked after the savepoint was set. This DROP TABLE<br>
    completed when ROLLBACK TO SAVEPOINT was executed because<br>
    the lock on the table was dropped by the transaction.<br>
    When the slave later tried to apply the binary log<br>
    events, it would fail because the table had already been<br>
    dropped.<br>
    (Bug#50124: http://bugs.mysql.com/bug.php?id=50124)<br>
<br>
  * Replication: When CURRENT_USER() or CURRENT_USER was used<br>
    to supply the name and host of the affected user or of<br>
    the definer in any of the statements DROP USER, RENAME<br>
    USER, GRANT, REVOKE, and ALTER EVENT, the reference to<br>
    CURRENT_USER() or CURRENT_USER was not expanded when<br>
    written to the binary log. This resulted in<br>
    CURRENT_USER() or CURRENT_USER being expanded to the user<br>
    and host of the slave SQL thread on the slave, thus<br>
    breaking replication. Now CURRENT_USER() and CURRENT_USER<br>
    are expanded prior to being written to the binary log in<br>
    such cases, so that the correct user and host are<br>
    referenced on both the master and the slave.<br>
    (Bug#48321: http://bugs.mysql.com/bug.php?id=48321)<br>
<br>
  * After an RPM installation mysqld would be started with the<br>
    root, rather than the mysql user.<br>
    (Bug#56574: http://bugs.mysql.com/bug.php?id=56574)<br>
<br>
  * An assertion was raised if (1) an InnoDB table was created<br>
    using CREATE TABLE ... SELECT where the query used an<br>
    INFORMATION_SCHEMA table and a view existed in the database;<br>
    or (2) sny statement that modified an InnoDB table had a<br>
    subquery referencing an INFORMATION_SCHEMA table.<br>
    (Bug#55973: http://bugs.mysql.com/bug.php?id=55973)<br>
<br>
  * CMake would produce bad dependencies for the<br>
    sql/lex_hash.h file during configuration.<br>
    (Bug#55842: http://bugs.mysql.com/bug.php?id=55842)<br>
<br>
  * mysql_upgrade did not handle the --ssl option properly.<br>
    (Bug#55672: http://bugs.mysql.com/bug.php?id=55672)<br>
<br>
  * Using MIN() or MAX() on a column containing the maximum<br>
    TIME value caused a server crash.<br>
    (Bug#55648: http://bugs.mysql.com/bug.php?id=55648)<br>
<br>
  * Incorrect handling of user variable assignments as<br>
    subexpressions could lead to incorrect results or server<br>
    crashes.<br>
    (Bug#55615: http://bugs.mysql.com/bug.php?id=55615)<br>
<br>
  * The default compiler options used for Mac OS X 10.5 would<br>
    be set incorrectly.<br>
    (Bug#55601: http://bugs.mysql.com/bug.php?id=55601)<br>
<br>
  * The server was not checking for errors generated during<br>
    the execution of Item::val_xxx() methods when copying<br>
    data to a group, order, or distinct temp table's row.<br>
    (Bug#55580: http://bugs.mysql.com/bug.php?id=55580)<br>
<br>
  * ORDER BY clauses that included user variable expressions<br>
    could cause a debug assertion to be raised.<br>
    (Bug#55565: http://bugs.mysql.com/bug.php?id=55565)<br>
<br>
  * The InnoDB storage engine was not included in the default<br>
    installation when using the configure script.<br>
    (Bug#55547: http://bugs.mysql.com/bug.php?id=55547)<br>
<br>
  * SHOW CREATE TRIGGER took a stronger metadata lock than<br>
    required. This caused the statement to be blocked<br>
    unnecessarily. For example, LOCK TABLES ... WRITE in one<br>
    session blocked SHOW CREATE TRIGGER in another session.<br>
    Also, a SHOW CREATE TRIGGER statement issued inside a<br>
    transaction did not release its metadata locks at the end<br>
    of statement execution. Consequently, SHOW CREATE TRIGGER<br>
    was able to block other sessions from accessing the table<br>
    (for example, using ALTER TABLE).<br>
    (Bug#55498: http://bugs.mysql.com/bug.php?id=55498)<br>
<br>
  * A single-table DELETE ordered by a column that had a<br>
    hash-type index could raise an assertion or cause a<br>
    server crash.<br>
    (Bug#55472: http://bugs.mysql.com/bug.php?id=55472)<br>
<br>
  * A call to mysql_library_init() following a call to<br>
    mysql_library_end() caused a client crash.<br>
    (Bug#55345: http://bugs.mysql.com/bug.php?id=55345)<br>
<br>
  * A statement that was aborted by KILL QUERY while it<br>
    waited on a metadata lock could raise an assertion in<br>
    debug builds, or send OK to the client instead of<br>
    ER_QUERY_INTERRUPTED in regular builds.<br>
    (Bug#55223: http://bugs.mysql.com/bug.php?id=55223)<br>
<br>
  * The mysql_config tool would not output the requirement<br>
    for the aio library for mysqld-libs.<br>
    (Bug#55215: http://bugs.mysql.com/bug.php?id=55215)<br>
<br>
  * GROUP BY operations used max_sort_length inconsistently.<br>
    (Bug#55188: http://bugs.mysql.com/bug.php?id=55188)<br>
<br>
  * The Windows MSI installer would fail to preserve custom<br>
    settings, such as the configured data directory, during<br>
    installation.<br>
    (Bug#55169: http://bugs.mysql.com/bug.php?id=55169)<br>
<br>
  * IF() with a subquery argument could raise a debug assertion<br>
    for debug builds under some circumstances.<br>
    (Bug#55077: http://bugs.mysql.com/bug.php?id=55077)<br>
<br>
  * Building MySQL on Solaris 8 x86 failed when using Sun<br>
    Studio due to gcc inline assembler code.<br>
    (Bug#55061: http://bugs.mysql.com/bug.php?id=55061)<br>
<br>
  * When upgrading an existing install with an RPM on Linux,<br>
    the MySQL server might not have been restarted properly.<br>
    This was due to a naming conflict when upgrading from a<br>
    community named RPM. Previous installations are now<br>
    correctly removed, and the MySQL init script are<br>
    recreated and then start the MySQL server as normal.<br>
    (Bug#55015: http://bugs.mysql.com/bug.php?id=55015)<br>
<br>
  * The thread_concurrency system variable was unavailable on<br>
    non-Solaris systems.<br>
    (Bug#55001: http://bugs.mysql.com/bug.php?id=55001)<br>
<br>
  * mysqld_safe contained a syntax error that prevented it<br>
    from restarting the server.<br>
    (Bug#54991: http://bugs.mysql.com/bug.php?id=54991)<br>
<br>
  * If audit plugins were installed that were interested in<br>
    MYSQL_AUDIT_GENERAL_CLASS events and the general query<br>
    log was disabled, failed INSTALL PLUGIN or UNINSTALL<br>
    PLUGIN statements caused a server crash.<br>
    (Bug#54989: http://bugs.mysql.com/bug.php?id=54989)<br>
<br>
  * A SHOW CREATE TABLE statement issued inside a transaction<br>
    did not release its metadata locks at the end of<br>
    statement execution. Consequently, SHOW CREATE TABLE was<br>
    able to block other sessions from accessing the table<br>
    (for example, using ALTER TABLE).<br>
    (Bug#54905: http://bugs.mysql.com/bug.php?id=54905)<br>
<br>
  * INFORMATION_SCHEMA.ENGINES and SHOW ENGINES described<br>
    MyISAM as the default storage engine, but this is not<br>
    true as of MySQL 5.5.5.<br>
    (Bug#54832: http://bugs.mysql.com/bug.php?id=54832)<br>
<br>
  * The MERGE storage engine tried to use memory mapping on<br>
    the underlying MyISAM tables even on platforms that do<br>
    not support it and even when myisam_use_mmap was<br>
    disabled. This led to a hang for INSERT INTO ... SELECT<br>
    FROM statements that selected from a MyISAM table into a<br>
    MERGE table that contained the same MyISAM table.<br>
    (Bug#54811: http://bugs.mysql.com/bug.php?id=54811,<br>
    Bug#50788: http://bugs.mysql.com/bug.php?id=50788)<br>
<br>
  * Incorrect error handling could result in an OPTIMIZE<br>
    TABLE crash.<br>
    (Bug#54783: http://bugs.mysql.com/bug.php?id=54783)<br>
<br>
  * Performance Schema event collection for a thread could<br>
    "leak" from one connection to another if the thread was<br>
    used for one connection, then cached, then reused for<br>
    another connection.<br>
    (Bug#54782: http://bugs.mysql.com/bug.php?id=54782)<br>
<br>
  * Some memory used for InnoDB asynchronous I/O was not freed at<br>
    shutdown. (Bug#54764: http://bugs.mysql.com/bug.php?id=54764)<br>
<br>
  * In debug builds, an assertion could be raised when the<br>
    server tried to send an OK packet to the client after<br>
    having failed to detect errors during processing of the<br>
    WHERE condition of an UPDATE statement.<br>
    (Bug#54734: http://bugs.mysql.com/bug.php?id=54734)<br>
<br>
  * In a slave SQL thread or Event Scheduler thread, the<br>
    SLEEP() function could not sleep more than five seconds.<br>
    (Bug#54729: http://bugs.mysql.com/bug.php?id=54729)<br>
<br>
  * Implementation of the 64-bit dulint structure in InnoDB<br>
    was not optimized for 64-bit processors, resulting in<br>
    excessive storage and reduced performance.<br>
    (Bug#54728: http://bugs.mysql.com/bug.php?id=54728)<br>
<br>
  * The output from the SHOW ENGINE INNODB STATUS command now<br>
    includes information about "spin rounds" for RW-locks<br>
    (both shared and exclusive locks).<br>
    (Bug#54726: http://bugs.mysql.com/bug.php?id=54726)<br>
<br>
  * SET sql_select_limit = 0 did not work.<br>
    (Bug#54682: http://bugs.mysql.com/bug.php?id=54682)<br>
<br>
  * An ALTER TABLE statement could convert an InnoDB<br>
    compressed table (with row_format=compressed) back to an<br>
    uncompressed table (with row_format=compact).<br>
    (Bug#54679: http://bugs.mysql.com/bug.php?id=54679)<br>
<br>
  * Assignments of the PASSWORD() or OLD_PASSWORD() function<br>
    to a user variable did not preserve the character set of<br>
    the function return value.<br>
    (Bug#54668: http://bugs.mysql.com/bug.php?id=54668)<br>
<br>
  * A signal-handler redefinition for SIGUSR1 was removed.<br>
    The redefinition could cause the server to encounter a<br>
    kernel deadlock on Solaris when there are many active<br>
    threads. Other POSIX platforms might also be affected.<br>
    (Bug#54667: http://bugs.mysql.com/bug.php?id=54667)<br>
<br>
  * InnoDB could issue an incorrect message on startup, if<br>
    tables were created under the setting<br>
    innodb_file_per_table=ON and the server was restarted<br>
    under the setting innodb_file_per_table=OFF. The message<br>
    was of the form InnoDB: Warning: allocated tablespace n,<br>
    old maximum was 0.<br>
    (Bug#54658: http://bugs.mysql.com/bug.php?id=54658)<br>
<br>
  * Queries that named view columns in a GROUP BY clause<br>
    could cause a server crash.<br>
    (Bug#54515: http://bugs.mysql.com/bug.php?id=54515)<br>
<br>
  * Performance Schema displayed spurious startup error<br>
    messages when the server was run in bootstrap mode.<br>
    (Bug#54467: http://bugs.mysql.com/bug.php?id=54467)<br>
<br>
  * For distributions built with cmake rather than the GNU<br>
    autotools, mysql lacked pager support.<br>
    (Bug#54466: http://bugs.mysql.com/bug.php?id=54466)<br>
<br>
  * The server failed to disregard sort order for some<br>
    zero-length tuples, leading to an assertion failure.<br>
    (Bug#54459: http://bugs.mysql.com/bug.php?id=54459)<br>
<br>
  * The default value of myisam_max_extra_sort_file_size<br>
    (http://dev.mysql.com/doc/refman/5.0/en/server-system-var<br>
    iables.html#sysvar_myisam_max_extra_sort_file_size) could<br>
    be higher than the maximum accepted value, leading to<br>
    warnings upon the server start.<br>
    (Bug#54457: http://bugs.mysql.com/bug.php?id=54457)<br>
<br>
  * The database server could crash when renaming a table<br>
    that had active transactions. (This issue only affected<br>
    the database server when built for debugging.)<br>
    (Bug#54453: http://bugs.mysql.com/bug.php?id=54453)<br>
<br>
  * The server could crash during the recovery phase of<br>
    startup, if it previously crashed while inserting BLOB or<br>
    other large columns that use off-page storage into an<br>
    InnoDB table created with ROW_FORMAT=REDUNDANT or<br>
    ROW_FORMAT=COMPACT.<br>
    (Bug#54408: http://bugs.mysql.com/bug.php?id=54408)<br>
<br>
  * Errors during processing of WHERE conditions in HANDLER<br>
    ... READ statements were not detected, so the handler<br>
    code still tried to send EOF to the client, raising an<br>
    assertion.<br>
    (Bug#54401: http://bugs.mysql.com/bug.php?id=54401)<br>
<br>
  * If a session tried to drop a database containing a table<br>
    opened with HANDLER in another session, any DATABASE<br>
    statement (CREATE, DROP, ALTER) executed by that session<br>
    produced a deadlock.<br>
    (Bug#54360: http://bugs.mysql.com/bug.php?id=54360)<br>
<br>
  * For an InnoDB table created with ROW_FORMAT=COMPRESSED or<br>
    ROW_FORMAT=DYNAMIC, a query using the READ UNCOMMITTED<br>
    isolation level could cause the server to stop with an<br>
    assertion error, if BLOB or other large columns that use<br>
    off-page storage were being inserted at the same time.<br>
    (Bug#54358: http://bugs.mysql.com/bug.php?id=54358)<br>
<br>
  * Fast index creation in the InnoDB Plugin could fail,<br>
    leaving the new secondary index corrupted.<br>
    (Bug#54330: http://bugs.mysql.com/bug.php?id=54330)<br>
<br>
  * For distributions built with cmake rather than the GNU<br>
    autotools, some scripts were built without the execute<br>
    bit set.<br>
    (Bug#54129: http://bugs.mysql.com/bug.php?id=54129)<br>
<br>
  * INSERT IGNORE INTO ... SELECT statements could cause a<br>
    debug assertion to be raised.<br>
    (Bug#54106: http://bugs.mysql.com/bug.php?id=54106)<br>
<br>
  * A client could supply data in chunks to a prepared<br>
    statement parameter other than of type TEXT or BLOB using<br>
    the mysql_stmt_send_long_data() C API function (or<br>
    COM_STMT_SEND_LONG_DATA command). This led to a crash<br>
    because other data types are not valid for long data.<br>
    (Bug#54041: http://bugs.mysql.com/bug.php?id=54041)<br>
<br>
  * mysql_secure_installation did not properly identify local<br>
    accounts and could incorrectly remove nonlocal root<br>
    accounts.<br>
    (Bug#54004: http://bugs.mysql.com/bug.php?id=54004)<br>
<br>
  * A client with automatic reconnection enabled saw the<br>
    error message Lost connection to MySQL server during<br>
    query if the connection was lost between the<br>
    mysql_stmt_prepare() and mysql_stmt_execute() C API<br>
    functions. However, mysql_stmt_errno() returned 0, not<br>
    the corresponding error number 2013.<br>
    (Bug#53899: http://bugs.mysql.com/bug.php?id=53899)<br>
<br>
  * INFORMATION_SCHEMA.COLUMNS reported incorrect precision<br>
    for BIGINT UNSIGNED columns.<br>
    (Bug#53814: http://bugs.mysql.com/bug.php?id=53814)<br>
<br>
  * If a session executing TRUNCATE TABLE on an InnoDB table<br>
    was killed during open_tables(), an assertion could be<br>
    raised.<br>
    (Bug#53757: http://bugs.mysql.com/bug.php?id=53757)<br>
<br>
  * Transactions could be incorrectly committed during<br>
    recovery, rather than rolled back, if the server crashed<br>
    and was restarted after performing ALTER TABLE...ADD<br>
    PRIMARY KEY on an InnoDB table, or some other operation<br>
    that involves copying the entire table.<br>
    (Bug#53756: http://bugs.mysql.com/bug.php?id=53756)<br>
<br>
  * The patch for<br>
    Bug#36569: http://bugs.mysql.com/bug.php?id=36569 caused<br>
    performance regressions and incorrect execution of some<br>
    UPDATE statments.<br>
    (Bug#53737: http://bugs.mysql.com/bug.php?id=53737,<br>
    Bug#53742: http://bugs.mysql.com/bug.php?id=53742)<br>
<br>
  * Missing Performance Schema tables were not reported in<br>
    the error log at server startup.<br>
    (Bug#53617: http://bugs.mysql.com/bug.php?id=53617)<br>
<br>
  * mysql_upgrade could incorrectly remove TRIGGER<br>
    privileges.<br>
    (Bug#53613: http://bugs.mysql.com/bug.php?id=53613)<br>
<br>
  * SHOW ENGINE PERFORMANCE_SCHEMA STATUS underreported the<br>
    amount of memory allocated by Performance Schema.<br>
    (Bug#53566: http://bugs.mysql.com/bug.php?id=53566)<br>
<br>
  * Portability problems in SHOW STATUS could lead to<br>
    incorrect results on some platforms.<br>
    (Bug#53493: http://bugs.mysql.com/bug.php?id=53493)<br>
<br>
  * Builds of MySQL generated a large number of warnings.<br>
    (Bug#53445: http://bugs.mysql.com/bug.php?id=53445)<br>
<br>
  * Performance Schema header files were not installed in the<br>
    correct directory.<br>
    (Bug#53255: http://bugs.mysql.com/bug.php?id=53255)<br>
<br>
  * The server could crash when processing subqueries with<br>
    empty results.<br>
    (Bug#53236: http://bugs.mysql.com/bug.php?id=53236)<br>
<br>
  * Misimplementation of the os_fast_mutex_trylock() function<br>
    in InnoDB resulted in unnecessary blocking and reduced<br>
    performance.<br>
    (Bug#53204: http://bugs.mysql.com/bug.php?id=53204)<br>
<br>
  * With lower_case_table_names set to a nonzero value,<br>
    searches for table or database names in<br>
    INFORMATION_SCHEMA tables could produce incorrect<br>
    results.<br>
    (Bug#53095: http://bugs.mysql.com/bug.php?id=53095)<br>
<br>
  * Use of uint in typelib.h caused compilation problems in<br>
    Windows. This was changed to unsigned int.<br>
    (Bug#52959: http://bugs.mysql.com/bug.php?id=52959)<br>
<br>
  * The mysql-debug.pdb supplied with releases did not match<br>
    the corresponding mysqld.exe.<br>
    (Bug#52850: http://bugs.mysql.com/bug.php?id=52850)<br>
<br>
  * The PERFORMANCE_SCHEMA database was not correctly created and<br>
    populated on Windows.<br>
    (Bug#52809: http://bugs.mysql.com/bug.php?id=52809)<br>
<br>
  * The large_pages system variable was tied to the<br>
    --large-files command-line option, not the --large-pages<br>
    option.<br>
    (Bug#52716: http://bugs.mysql.com/bug.php?id=52716)<br>
<br>
  * Attempts to access a nonexistent table in the<br>
    performance_schema database resulted in a misleading<br>
    error message.<br>
    (Bug#52586: http://bugs.mysql.com/bug.php?id=52586)<br>
<br>
  * The ABI check for MySQL failed to compile with gcc 4.5.<br>
    (Bug#52514: http://bugs.mysql.com/bug.php?id=52514)<br>
<br>
  * Performance Schema could enter an infinite loop if<br>
    required to create a large number of mutex instances.<br>
    (Bug#52502: http://bugs.mysql.com/bug.php?id=52502)<br>
<br>
  * mysql_secure_installation sometimes failed to locate the<br>
    mysql client.<br>
    (Bug#52274: http://bugs.mysql.com/bug.php?id=52274)<br>
<br>
  * InnoDB could not create tables that used the utf32<br>
    character set.<br>
    (Bug#52199: http://bugs.mysql.com/bug.php?id=52199)<br>
<br>
  * Some queries involving GROUP BY and a function that<br>
    returned DATE raised a debug assertion.<br>
    (Bug#52159: http://bugs.mysql.com/bug.php?id=52159)<br>
<br>
  * If a symbolic link was used in a file path name, the<br>
    Performance Schema did not resolve all file io events to<br>
    the same name.<br>
    (Bug#52134: http://bugs.mysql.com/bug.php?id=52134)<br>
<br>
  * PARTITION BY KEY on a utf32 ENUM column raised a<br>
    debugging assertion.<br>
    (Bug#52121: http://bugs.mysql.com/bug.php?id=52121)<br>
<br>
  * A pending FLUSH TABLES tbl_list WITH READ LOCK statement<br>
    unnecessarily aborted transactions.<br>
    (Bug#52117: http://bugs.mysql.com/bug.php?id=52117)<br>
<br>
  * FLUSH TABLES WITH READ LOCK in one session and FLUSH<br>
    TABLES tbl_list WITH READ LOCK in another session were<br>
    mutually exclusive.<br>
    (Bug#52044: http://bugs.mysql.com/bug.php?id=52044)<br>
<br>
  * Reading a ucs2 data file with LOAD DATA INFILE was<br>
    subject to three problems. 1) Incorrect parsing of the<br>
    file as ucs2 data, resulting in incorrect length of the<br>
    parsed string. This is fixed by truncating the invalid<br>
    trailing bytes (incomplete multibyte characters) when<br>
    reading from the file. 2) Reads from a proper ucs2 file<br>
    did not recognize newline characters. This is fixed by<br>
    first checking whether a byte is a newline (or any other<br>
    special character) before reading it as a part of a<br>
    multibyte character. 3) When using user variables to hold<br>
    column data, the character set of the user variable was<br>
    set incorrectly to the database charset. This is fixed by<br>
    setting it to the character set specified in the LOAD<br>
    DATA INFILE statement, if any.<br>
    (Bug#51876: http://bugs.mysql.com/bug.php?id=51876)<br>
<br>
  * XA START had a race condition that could cause a server<br>
    crash.<br>
    (Bug#51855: http://bugs.mysql.com/bug.php?id=51855)<br>
<br>
  * The results of some ORDER BY ... DESC queries were sorted<br>
    incorrectly.<br>
    (Bug#51431: http://bugs.mysql.com/bug.php?id=51431)<br>
<br>
  * Index Merge between three indexes could return incorrect<br>
    results.<br>
    (Bug#50389: http://bugs.mysql.com/bug.php?id=50389)<br>
<br>
  * MIN() and MAX() returned incorrect results for DATE<br>
    columns if the set of values included '0000-00-00'.<br>
    (Bug#49771: http://bugs.mysql.com/bug.php?id=49771)<br>
<br>
  * Searches in INFORMATION_SCHEMA tables for rows matching a<br>
    nonexistent database produced an error instead of an<br>
    empty query result.<br>
    (Bug#49542: http://bugs.mysql.com/bug.php?id=49542)<br>
<br>
  * DROP DATABASE failed if there was a TEMPORARY table with<br>
    the same name as a non-TEMPORARY table in the database.<br>
    (Bug#48067: http://bugs.mysql.com/bug.php?id=48067)<br>
<br>
  * Performing large numbers of RENAME TABLE statements<br>
    caused excessive memory use.<br>
    (Bug#47991: http://bugs.mysql.com/bug.php?id=47991)<br>
<br>
  * An assertion occurred in ha_myisammrg.cc line 1137:<br>
        DBUG_ASSERT(this->file->children_attached);<br>
    The problem was found while running RQG tests and the<br>
    assertion occurred during REPAIR, OPTIMIZE, and ANALYZE<br>
    operations.<br>
    (Bug#47633: http://bugs.mysql.com/bug.php?id=47633)<br>
<br>
  * The optimize method of the ARCHIVE storage engine did not<br>
    preserve the FRM embedded in the ARZ file when rewriting<br>
    the ARZ file for optimization. This meant an ARCHIVE<br>
    table that had been optimized could not be discovered.<br>
    The ARCHIVE engine stores the FRM in the ARZ file so it<br>
    can be transferred from machine to machine without also<br>
    needing to copy the FRM file. The engine subsequently<br>
    restores the embedded FRM during discovery.<br>
    (Bug#45377: http://bugs.mysql.com/bug.php?id=45377)<br>
<br>
  * With character_set_connection set to utf16 or utf32,<br>
    CREATE TABLE t1 AS SELECT HEX() ... caused a server<br>
    crash.<br>
    (Bug#45263: http://bugs.mysql.com/bug.php?id=45263)<br>
<br>
  * The my_like_range_xxx() functions returned badly formed<br>
    maximum strings for Asian character sets, which caused<br>
    problems for storage engines.<br>
    (Bug#45012: http://bugs.mysql.com/bug.php?id=45012)<br>
<br>
  * A debugging assertion could be raised after a write<br>
    failure to a closed socket.<br>
    (Bug#42496: http://bugs.mysql.com/bug.php?id=42496)<br>
<br>
  * Enumeration plugin variables were subject to a type<br>
    casting error, causing inconsistent results between<br>
    different platforms.<br>
    (Bug#42144: http://bugs.mysql.com/bug.php?id=42144)<br>
<br>
  * Sort-index_merge for join tables other than the first<br>
    table used excessive memory.<br>
    (Bug#41660: http://bugs.mysql.com/bug.php?id=41660)<br>
<br>
  * The mechanism that checks if there is enough space for<br>
    redo logs was improved, reducing the chance of<br>
    encountering this message: ERROR: the age of the last<br>
    checkpoint is x, which exceeds the log group capacity y.<br>
    (Bug#39168: http://bugs.mysql.com/bug.php?id=39168)<br>
<br>
  * Rows inserted in a table by one session were not<br>
    immediately visible to another session that queried the<br>
    table, even if the insert had committed.<br>
    (Bug#37521: http://bugs.mysql.com/bug.php?id=37521)<br>
<br>
  * Statements of the form UPDATE ... WHERE ... ORDER BY used<br>
    a filesort even when not required.<br>
    (Bug#36569: http://bugs.mysql.com/bug.php?id=36569)<br>
    See also<br>
    Bug#53737: http://bugs.mysql.com/bug.php?id=53737,<br>
    Bug#53742: http://bugs.mysql.com/bug.php?id=53742.<br>
<br>
  * Reading from a temporary MERGE table, with two<br>
    non-temporary child MyISAM tables, resulted in the error:<br>
        ERROR 1168 (HY000): Unable to open underlying table which is<br>
        differently defined or of non-MyISAM type or doesn't exist<br>
    (Bug#36171: http://bugs.mysql.com/bug.php?id=36171)<br>
<br>
  * safemalloc was excessively slow under certain conditions<br>
    and has been removed. The --skip-safemalloc server option<br>
    has also been removed, and the --with-debug=full<br>
    configuration option is no different from --with-debug.<br>
    (Bug#34043: http://bugs.mysql.com/bug.php?id=34043)<br>
<br>
  * Threads that were calculating the estimated number of<br>
    records for a range scan did not respond to the KILL<br>
    statement. That is, if a range join type is possible<br>
    (even if not selected by the optimizer as a join type of<br>
    choice and thus not shown by EXPLAIN), the query in the<br>
    statistics state (shown by the SHOW PROCESSLIST) did not<br>
    respond to the KILL statement.<br>
    (Bug#25421: http://bugs.mysql.com/bug.php?id=25421)<br>
<br>
  * Problems in the atomic operations implementation could<br>
    lead to server crashes.<br>
    (Bug#22320: http://bugs.mysql.com/bug.php?id=22320,<br>
    Bug#52261: http://bugs.mysql.com/bug.php?id=52261)<br>
<br>
  * Improved performance and scalability on Windows systems,<br>
    especially for Windows Vista and higher. Re-enabled the<br>
    use of atomic instructions on Windows systems. For<br>
    Windows Vista and higher, reduced the number of event<br>
    handles used. To compile on Windows systems now requires<br>
    Windows SDK v6.0 or later; either upgrade to Visual<br>
    Studio 2008 or 2010, or for Visual Studio 2005, install<br>
    Windows SDK Update for Windows Vista.<br>
    (Bug#22268: http://bugs.mysql.com/bug.php?id=22268)<br>
<br>
